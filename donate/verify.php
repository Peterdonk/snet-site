<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="P-NET Zone" />

    <title>SAMREBOI COMMUNITY WI-FI</title>
     <!-- site metas -->
   <meta name="title" content="Affordable Internet Bundles ">
   <meta name="description"
      content="P-NET Zone is a part of Passion Technology Products. We deliver technology solutions and services that emphasize on providing affordable data bundles to all its users at affordable prices.">
   <meta name="keywords"
      content="Buy Affordable Internet Bundles">
   <meta name="robots" content="index, follow">
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <meta name="language" content="English">
   <meta name="revisit-after" content="1 days">
   <meta name="author" content="Geo">
    
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="./assets/img/logo.png" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
        type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" />


</head>

<style>
.textBox
{
  height:30px;
  width:300px;
}

.btn-shine {
  /* position: absolute;
  top: 50%;
  left: 50%; */
  transform: translate(-50%, -50%);
  padding: 12px 48px;
  color: #fff;
  background: linear-gradient(to right, #4d4d4d 0, #fff 10%, #4d4d4d 20%);
  background-position: 0;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shine 3s infinite linear;
  animation-fill-mode: forwards;
  -webkit-text-size-adjust: none;
  font-weight: 600;
  font-size: 16px;
  text-decoration: none;
  white-space: nowrap;
}
@-moz-keyframes shine {
  0% {
    background-position: 0;
  }
  60% {
    background-position: 180px;
  }
  100% {
    background-position: 180px;
  }
}
@-webkit-keyframes shine {
  0% {
    background-position: 0;
  }
  60% {
    background-position: 180px;
  }
  100% {
    background-position: 180px;
  }
}
@-o-keyframes shine {
  0% {
    background-position: 0;
  }
  60% {
    background-position: 180px;
  }
  100% {
    background-position: 180px;
  }
}
@keyframes shine {
  0% {
    background-position: 0;
  }
  60% {
    background-position: 180px;
  }
  100% {
    background-position: 180px;
  }
}


#spinner-holder{
    margin-top: 20%;
}

.code_holder
{
  height:30px;
  width:200px;
  border-radius:4px;
  padding:10px;
  font-size:20px;
  font-family: 'Oswald', sans-serif;
  height:52px;
  cursor:pointer;
  background-color:wheat;
  
}

.loader {
  width: 150px;
  height: 150px;
}

svg {
  width: 90%;
  fill: none;
}

.load {
  transform-origin: 50% 50%;
  stroke-dasharray: 570;
  stroke-width: 20px;
}
.load.one {
  stroke: #554d73;
  animation: load 1.5s infinite;
}
.load.two {
  stroke: #a496a4;
  animation: load 1.5s infinite;
  animation-delay: 0.1s;
}
.load.three {
  stroke: #a5a7bb;
  animation: load 1.5s infinite;
  animation-delay: 0.2s;
}

.point {
  animation: bounce 1s infinite ease-in-out;
}
.point.one {
  fill: #a5a7bb;
  animation-delay: 0s;
}
.point.two {
  fill: #a496a4;
  animation-delay: 0.1s;
}
.point.three {
  fill: #554d73;
  animation-delay: 0.2s;
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-20px);
  }
}
@keyframes load {
  0% {
    stroke-dashoffset: 570;
  }
  50% {
    stroke-dashoffset: 530;
  }
  100% {
    stroke-dashoffset: 570;
    transform: rotate(360deg);
  }
}

</style>

<body>
    <!--  BEGIN MAIN CONTAINER  -->
    <div class="main-container" id="container">

        <div class="overlay"></div>
        <div class="cs-overlay"></div>
        <div class="search-overlay"></div>

        <!--  BEGIN SIDEBAR  -->
        <!--  END SIDEBAR  -->

         <div class="main-content" id="content-holder">
             <center id="spinner-holder">
                 <h3 class="text-center text-danger">Please Do Not Leave This Page <br/> Until Verification is Complete</h3>
<div class="loader" style="margin-top:40px">
  <svg viewBox="0 0 120 120" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <circle class="load one" cx="60" cy="60" r="40" />
    <circle class="load two" cx="60" cy="60" r="40" />
    <circle class="load three" cx="60" cy="60" r="40" />
    <g>
      <circle class="point one" cx="45" cy="70" r="5" />
      <circle class="point two" cx="60" cy="70" r="5" />
      <circle class="point three" cx="75" cy="70" r="5" />
    </g>
  </svg>


</div>

  <div style="margin-top:20px">
    <a href="javascript:void(0)" class="btn-shine" target="_blank">Verifying Transaction</a>
</div>
             </center>
 
            </div>

        <!--  BEGIN CONTENT AREA  -->
        <div id="content" class="main-content">
            <div class="layout-px-spacing">

                <div class="row layout-spacing">

                    <!-- Content -->
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 layout-top-spacing">
                        <div class="user-profile layout-spacing mt-5">
                            <div class="widget-content widget-content-area">
                                <div class="text-center">
                                    <img src="./assets/img/success.svg" alt="avatar" height="80px">
                                </div>
                                <div class="user-info-list text-center">
                                        <div class="success-page mt-2 mb-5">
  <h2>Payment Successful !</h2>
  <p>We are delighted to inform you that we received your payments</p>
</div>
                                </div>
                            </div>
                        </div>
 <input type="hidden" name="ref" id="ref" value="<?php  echo $_GET['trxref']; ?>">
                    </div>
                </div>

                <center>


                <!-- Target -->
                    <output id="p2" class="code_holder">My Code</output><br/>

                    <br/>
                    <button class="btn btn-md btn-primary" data-clipboard-action="copy"
      data-clipboard-target="output">Copy Code</button>

      <br/>
      <br/>

      <a href='index.php'>Click here to visit portal</a>

                </center>
            </div>

           
          
            
                <script>
        document.getElementById('content').style.visibility = "hidden";
    </script>

    <!-- Portfolio Modals-->
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/clipboard.min.js"></script>

    <script>
        $(document).ready(function () {
             var get_ref = $('#ref').val();
         $.ajax({
			   		url: './logic/verify-payment.php',
			    	type: 'POST',
			       	data: 'ref='+get_ref,
                     success: function(res) {
                        if (res === "used") {   
                           window.location.href='index.php';
                        } else if(res === 'error') { 
                            window.location.href = 'index.php';
                        }else {
                            $('.code_holder').html(res);
                             document.getElementById('content').style.visibility = "visible";
                             document.getElementById('content-holder').remove();
                        }

                    },
                    error: function(res) {
                        
                    }
			     });

        var clipboard = new ClipboardJS('.btn');

      clipboard.on('success', function (e) {
        alert('Code Copied')
      });

      clipboard.on('error', function (e) {
        console.log(e);
      });

        })
    </script>
</body>

</html>